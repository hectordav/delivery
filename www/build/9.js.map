{"version":3,"sources":["../../src/pages/producto-seleccionado/producto-seleccionado.module.ts","../../src/pages/producto-seleccionado/producto-seleccionado.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProductoSeleccionadoPage } from './producto-seleccionado';\n\n@NgModule({\n  declarations: [\n    ProductoSeleccionadoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProductoSeleccionadoPage),\n  ],\n})\nexport class ProductoSeleccionadoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/producto-seleccionado/producto-seleccionado.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,ModalController,ViewController,AlertController  } from 'ionic-angular';\nimport {PrpedidoProvider}from '../../providers/prpedido/prpedido';\nimport {SrvalerttoastService} from '../../services/srv-alert-toast';\n\n@IonicPage()\n@Component({\n  selector: 'page-producto-seleccionado',\n  templateUrl: 'producto-seleccionado.html',\n})\nexport class ProductoSeleccionadoPage {\n  cantidad_borrar:any;\n\tresult_producto_seleccionado;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public pedido:PrpedidoProvider, public modalctrl:ModalController, public viewCtrl: ViewController, public alertCtrl:AlertController, public alert_toast:SrvalerttoastService) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ProductoSeleccionadoPage');\n    this.productos_seleccionados();\n  }\n  productos_seleccionados(){\n  \tthis.result_producto_seleccionado=this.pedido.get_variable_pedido();\n  }\n  cerrar(){\n  \t this.viewCtrl.dismiss();\n  }\n  borrar_item(item){\n    let _id_producto_item=item.id_producto;\n    let _cantidad=item.cantidad;\n\n     let prompt = this.alertCtrl.create({\n      title: 'Borrar Producto',\n      message: \"Ingrese la cantidad a borrar\",\n      inputs: [\n        {\n          name: 'txt_borrar',\n          placeholder: ''\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Borrar',\n          handler: data => {\n           let _cantidad_borrar=data.txt_borrar;\n           console.log(_cantidad_borrar);\n           \n           let _cantidad_entero=parseInt(_cantidad_borrar);\n           if(_cantidad_entero>_cantidad) {\n             let _mensaje=\"Esta ingresando una cantidad mayor a la registrada\";\n             this.alert_toast.loading_toast(_mensaje);\n           }else{\n             let _cantidad_nueva=_cantidad-_cantidad_borrar;\n             let _total_producto=item.total/_cantidad;\n             let _total=_total_producto*_cantidad_nueva;\n             let det_pedido=this.pedido.get_variable_pedido();\n             let i=0;\n             let _cantidad_registrada;\n             for(let value of det_pedido) {\n             let _id_producto=value.id_producto;\n               _cantidad_registrada=value.cantidad;\n               if(_id_producto==_id_producto_item){\n               console.log('lo resta');\n               det_pedido.splice(i, 1);  \n               }\n             i++;\n             }\n             if(_cantidad_nueva!=0) {\n              det_pedido.push({\n                id_producto: item.id_producto, \n                nombre: item.nombre,\n                cantidad: _cantidad_nueva, \n                total:_total\n              });\n             }\n              this.pedido.set_variable_pedido(det_pedido);\n              this.productos_seleccionados();\n              this.sumar_total();\n\n           }\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n   sumar_total(){\n    let _det_pedido=this.result_producto_seleccionado;\n    let _cantidad_productos:any=0;\n    let _total_productos:any=0;\n     for(let value of _det_pedido) {\n      _cantidad_productos=_cantidad_productos+value.cantidad;\n      _total_productos=_total_productos+parseInt(value.total);\n     }\n     this.pedido.set_variable_items(_cantidad_productos);\n     this.pedido.set_variable_total(_total_productos);\n   }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/producto-seleccionado/producto-seleccionado.ts"],"sourceRoot":""}