{"version":3,"sources":["../../src/pages/pedido-procesado/pedido-procesado.module.ts","../../src/pages/pedido-procesado/pedido-procesado.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PedidoProcesadoPage } from './pedido-procesado';\n\n@NgModule({\n  declarations: [\n    PedidoProcesadoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PedidoProcesadoPage),\n  ],\n})\nexport class PedidoProcesadoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pedido-procesado/pedido-procesado.module.ts","import { Component,ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams,Navbar,AlertController } from 'ionic-angular';\nimport {PrpedidoProvider}from '../../providers/prpedido/prpedido';\nimport {PrloginProvider}from '../../providers/prlogin/prlogin';\nimport {PrdireccionEntregaProvider}from '../../providers/prdireccion-entrega/prdireccion-entrega';\nimport {PrhoraEntregaProvider}from '../../providers/prhora-entrega/prhora-entrega';\nimport {PrestablecimientoProvider}from '../../providers/prestablecimiento/prestablecimiento';\nimport {PrpushEstablecimientoProvider}from '../../providers/prpush-establecimiento/prpush-establecimiento';\nimport {PrpagoTarjetaProvider}from '../../providers/prpago-tarjeta/prpago-tarjeta';\nimport {SrvalerttoastService} from '../../services/srv-alert-toast';\n\n@IonicPage()\n@Component({\n  selector: 'page-pedido-procesado',\n  templateUrl: 'pedido-procesado.html',\n})\nexport class PedidoProcesadoPage {\n\t@ViewChild(Navbar) navBar: Navbar;\n  result_pedido:any;\n\tresult_det_pedido:any;\n  result_direccion_entrega_todas:any;\n  result_direccion_entrega_activa:any;\n  result_hora_entrega:any;\n  id_hora_entrega:any;\n  id_metodo_pago:any;\n  id_direccion_entrega:any;\n  total_articulos:any;\n  sub_total:any;\n  comision:any;\n  total:any;\n  direccion:any;\n  detalle_direccion:any;\n  result_pedido_eliminado:any;\n  result_actualiza_pedido:any;\n  id_establecimiento:any;\n  result_push_establecimiento:any;\n  contar_pedido:any;\n  result_contar_pedido:any;\n  result_pago_tarjeta:any;\n  variable_metodo_pago:any;\nconstructor(public navCtrl: NavController, public navParams: NavParams, public pr_pedido:PrpedidoProvider, public pr_login:PrloginProvider, public pr_direccion_entrega:PrdireccionEntregaProvider, public pr_hora_entrega:PrhoraEntregaProvider, public pr_establecimiento:PrestablecimientoProvider, public alertCtrl:AlertController, public srv_alert_toast:SrvalerttoastService, public pr_push_establecimiento:PrpushEstablecimientoProvider, public pago_tarjeta:PrpagoTarjetaProvider) {\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PedidoProcesadoPage');\n    this.get_pago_tarjeta();\n    this.get_pedido_procesado();\n    this.setBackButtonAction();\n  }\n  get_contar_pedido(){\n    let _data_usuario=this.pr_login.get_inicio_sesion();\n    let _id_usuario;\n      for(let value of _data_usuario) {\n       _id_usuario=value.id_usuario;\n      }\n     this.pr_pedido.contar_pedido(_id_usuario).subscribe(\n        pr_pedido => {\n          this.result_contar_pedido=pr_pedido;\n           console.log(\"REGISTRO contar pedido\");\n           console.log(this.result_contar_pedido);\n           if(this.result_contar_pedido>1) {\n             this.variable_metodo_pago='Si';\n             \n           }else{\n             this.variable_metodo_pago='No';\n           }\n        },\n        err => {console.log(\"NO EXISTE REGISTRO\");\n        },\n      );\n  }\n  get_pago_tarjeta(){\n     this.pago_tarjeta.get_pago_tarjeta().subscribe(\n        pago_tarjeta => {\n          this.result_pago_tarjeta=pago_tarjeta;\n           console.log(\"REGISTRO EXISTE\");\n           let _variable;\n           for(let value of this.result_pago_tarjeta) {\n            _variable=value.pago_tarjeta;\n           }\n           if(_variable=='Si'){\n             this.variable_metodo_pago='Si';\n           }else{\n             this.get_contar_pedido();\n           }\n        },\n        err => {console.log(\"NO EXISTE REGISTRO\");\n        },\n      );\n  }\n  get_pedido_procesado(){\n  \t/*let id_pedido=this.pr_pedido.get_id_pedido();*/\n    this.result_det_pedido=this.pr_pedido.get_det_pedido_procesado();\n    this.result_hora_entrega=this.pr_hora_entrega.get_variable_result_hora_entrega();\n    this.result_direccion_entrega_todas=this.pr_direccion_entrega.get_variable_result_direccion_entrega_todas();\n    this.result_direccion_entrega_activa=this.pr_direccion_entrega.get_variable_direccion_entrega_activa();\n/*    let _id_direccion_entrega=this.pr_direccion_entrega.get_variable_id_direccion_entrega_activa();\n    let direccion_entrega=this.pr_direccion_entrega.get_variable_direccion_entrega_activa();*/\n    /*let det_pedido=this.pr_pedido.get_det_pedido_procesado();*/\n    let pedido=this.pr_pedido.get_pedido_procesado();\n    this.comision=parseFloat(this.pr_establecimiento.get_comision_establecimiento());\n     for(let value of this.result_direccion_entrega_activa) {\n      this.direccion=value.direccion; \n      this.detalle_direccion=value.detalles_direccion;\n      } \n     for(let value of pedido) {\n      this.id_establecimiento=value.id_establecimiento;\n      this.total_articulos=value.total_articulos;\n      this.sub_total=parseFloat(value.total_precio);\n      this.total=this.sub_total+ this.comision;\n      this.total=this.total.toFixed(2);\n     }\n     console.log(this.total);\n  }\n      setBackButtonAction(){\n      let det_pedido=this.pr_pedido.get_variable_pedido();\n      console.log(det_pedido.length);\n       this.navBar.backButtonClick = () => {\n         let _titulo='Advertencia';\n         let accion;\n         let _mensaje='Al Salir, se borrará el pedido en la ase de datos desea continuar?';\n          let alert = this.alertCtrl.create({\n          title: _titulo,\n          message: _mensaje,\n          buttons: [\n          {\n            text: 'No',\n            role: 'cancel',\n            handler: () => {\n              accion=0;\n            }\n          },\n          {\n            text: 'Si',\n            handler: () => {\n              console.log('entra en si');\n              let id_pedido=this.pr_pedido.get_id_pedido();\n               this.pr_pedido.eliminar_pedido(id_pedido).subscribe(\n                pr_pedido => {\n                this.result_pedido_eliminado=pr_pedido;\n                console.log(\"REGISTRO EXISTE\");\n                this.navCtrl.pop();\n                },\n                err => {console.log(\"NO EXISTE REGISTRO\");\n                },\n                );\n            }\n          }\n          ]\n          });\n          alert.present();\n     }\n    }\n  procesar_pedido(){\n    let _hora_entrega=this.result_hora_entrega;\n    let _id_hora_entrega=this.id_hora_entrega;\n    let _id_metodo_pago=this.id_metodo_pago;\n    let _id_pedido=this.pr_pedido.get_id_pedido();\n    /*la hora de entrega*/\n    let _hora_registrada;\n    let _hora_inicio_split;\n    let _hora_fin_split;\n    let f=new Date();\n    /*let cad=f.getHours()+\":\"+f.getMinutes()+\":\"+f.getSeconds();*/ /*la hora y los minutos*/ \n    let _hora_dispositivo=f.getHours(); /*11;*/ \n    if(_id_hora_entrega==undefined) {\n        let titulo=\"Error\";\n        let mensaje=\"Seleccione Hora de entrega\";\n        this.srv_alert_toast.show_alert(titulo,mensaje);\n      }else{\n        if(_id_metodo_pago==undefined) {\n          let titulo=\"Error\";\n          let mensaje=\"Seleccione un metodo de pago\";\n          this.srv_alert_toast.show_alert(titulo,mensaje);\n        }else{\n           for(let value of _hora_entrega) {\n            let id_hora_entrega=value.id;\n              if(_id_hora_entrega==id_hora_entrega) {\n                _hora_registrada=value.descripcion.split('-');\n                _hora_inicio_split=_hora_registrada['0'].split(':');\n                _hora_fin_split=_hora_registrada['1'].split(':');\n                /*let _hora_inicio=_hora_inicio_split['0'];*/\n                let _hora_fin=_hora_fin_split['0'];\n                /*si la hora del dispositivo es mayuor a la horafinal*/\n                if(_hora_dispositivo>_hora_fin) {\n                  let titulo=\"Error\";\n                  let mensaje=\"La hora actual es mayor a la hora seleccionada\";\n                  this.srv_alert_toast.show_alert(titulo,mensaje);\n                }else{\n                  /**************************************************/\n                  console.log('esta en el rango de la hora');\n                  let item_alert='Espere por favor';\n                  this.srv_alert_toast.show_loading(item_alert);\n                    if(_id_metodo_pago==2) {\n                      this.pr_pedido.set_id_metodo_pago(_id_metodo_pago);\n                      this.pr_pedido.set_id_hora_entrega(_id_hora_entrega);\n                      this.pr_pedido.set_id_pedido(_id_pedido);\n                      this.pr_pedido.set_total(this.total);\n                      this.srv_alert_toast.dismis_loading();\n                      this.navCtrl.push('PagoPayuPage');\n                    }else{\n                       this.pr_pedido.actualizar_pedido(_id_pedido,_id_hora_entrega,_id_metodo_pago).subscribe(\n                        pr_pedido => {\n                        this.result_actualiza_pedido=pr_pedido;\n                         console.log(\"se ha actualizado el pedido\");\n                         this.enviar_push_establecimiento();\n                        },\n                        err => {console.log(\"NO EXISTE REGISTRO\");\n                        },\n                      );\n                    }\n                   /*******************************************************/\n                  /*aqui colocar la parte de pago con tarjeta de credito y quitar la parte de actualizar pedido*/\n                   /*******************************************************/\n                  \n                   /*******************************************************/\n                   /*******************************************************/\n\n                }\n              }\n           }\n        }\n      }\n     /***********************/\n  }\n  enviar_push_establecimiento(){\n    let _id_establecimiento=this.id_establecimiento;\n     this.pr_push_establecimiento.push_nuevo_pedido(_id_establecimiento).subscribe(\n        pr_push_establecimiento => {\n          this.result_push_establecimiento=pr_push_establecimiento;\n           console.log(\"Se envia el push al establecimiento\");\n            this.srv_alert_toast.dismis_loading();\n            let titulo=\"Pedido Procesado\";\n            let mensaje=\"Su pedido se ha procesado con éxito\";\n            this.srv_alert_toast.show_alert(titulo,mensaje);\n            this.borrar_items_pedido();\n        },\n        err => {console.log(\"NO EXISTE REGISTRO\");\n        },\n      );\n  }\n  borrar_items_pedido(){\n    let _det_pedido=this.pr_pedido.get_variable_pedido();\n    let _det_extra_pedido=this.pr_pedido.get_variable_extra_det_pedido();\n    _det_pedido.splice(0,_det_pedido.length);\n    _det_extra_pedido.splice(0,_det_extra_pedido.length);\n    console.log(_det_pedido);\n    let _item='';\n    this.pr_pedido.set_variable_items(_item);\n    this.pr_pedido.set_variable_total(_item);\n    this.pr_pedido.set_variable_pedido(_det_pedido);\n    this.pr_pedido.set_variable_extra_det_pedido(_det_extra_pedido);\n    this.navCtrl.popToRoot();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pedido-procesado/pedido-procesado.ts"],"sourceRoot":""}